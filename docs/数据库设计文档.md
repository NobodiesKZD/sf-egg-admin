# 文档修订记录

| 日期       | 版本   | 说明 | 作者   |
| :--------- | :----- | :--- | :----- |
| 2020-08-21 | v1.0.0 | 创建 | 杨长源 |



# 参考文献

https://blog.csdn.net/gglinux/article/details/68948901

https://www.zybuluo.com/stonezhou/note/1292262

http://www.csdeshang.com/home/dsmall/database.html

https://www.bilibili.com/video/av75498379

# 

# 数据模型实体属性

## sys_menu

**表注释： 系统菜单**

| 字段      | 类型         | 空   | 默认 | 注释                            |
| --------- | ------------ | ---- | ---- | ------------------------------- |
| id        | bigint(20)   | 否   |      | ID                              |
| parent_id | bigint(20)   |      |      | 父菜单ID                        |
| name      | varchar(255) | 否   |      | 菜单名称                        |
| router    | varchar(255) |      |      | 菜单地址                        |
| perms     | varchar(255) |      |      | 权限标识                        |
| type      | tinyint(4)   | 否   | 0    | 类型，0：目录、1：菜单、2：按钮 |
| icon      | varchar(255) |      |      | 对应图标                        |
| order_num | int(11)      |      | 0    | 排序                            |
| view_path | varchar(255) |      |      | 视图地址，对应vue文件           |
| keepalive | boolean      |      | true | 路由缓存                        |
| Is_show   | boolean      |      | true | 是否显示在菜单栏                |

**索引**

| 键名    | 类型  | 唯一 | 紧凑 | 字段   | 基数 | 排序规则 | 空   | 注释 |
| ------- | ----- | ---- | ---- | ------ | ---- | -------- | ---- | ---- |
| PRIMARY | BTREE | 是   | 否   | id     | 0    | A        | 否   |      |

## sys_department

**表注释：系统部门**

| 字段      | 类型         | 空   | 默认 | 注释       |
| --------- | ------------ | ---- | ---- | ---------- |
| id        | bigint(20)   | 否   |      | ID         |
| parent_id | bigint(20)   |      |      | 上级部门ID |
| name      | varchar(255) | 否   |      | 部门名称   |
| order_num | int(11)      |      | 0    | 排序       |

**索引**

| 键名    | 类型  | 唯一 | 紧凑 | 字段 | 基数 | 排序规则 | 空   | 注释 |
| ------- | ----- | ---- | ---- | ---- | ---- | -------- | ---- | ---- |
| PRIMARY | BTREE | 是   | 否   | id   | 0    | A        | 否   |      |

## sys_user

**表注释：系统用户**

| 字段          | 类型         | 空   | 默认 | 注释                   |
| ------------- | ------------ | ---- | ---- | ---------------------- |
| id            | bigint(20)   | 否   |      | ID                     |
| department_id | bigint(20)   | 否   |      | 部门编号               |
| name          | varchar(255) | 否   |      | 姓名                   |
| username      | varchar(255) | 否   |      | 登录账号               |
| password      | varchar(255) | 否   |      | 密码                   |
| nick_name     | varchar(255) |      |      | 昵称                   |
| head_img      | varchar(255) |      |      | 头像                   |
| email         | varchar(255) |      |      | 邮箱                   |
| phone         | varchar(20)  |      |      | 手机号                 |
| remark        | varchar(255) |      |      | 备注                   |
| status        | tinyint(4)   |      | 1    | 状态：0：禁用，1：启用 |

**索引**

| 键名    | 类型  | 唯一 | 紧凑 | 字段     | 基数 | 排序规则 | 空   | 注释 |
| ------- | ----- | ---- | ---- | -------- | ---- | -------- | ---- | ---- |
| PRIMARY | BTREE | 是   | 否   | id       | 0    | A        | 否   |      |
| UNIQUE  | BTREE | 是   | 否   | username |      |          | 否   |      |

## sys_role

**表注释：系统角色**

| 字段    | 类型         | 空   | 默认 | 注释   |
| ------- | ------------ | ---- | ---- | ------ |
| id      | bigint(20)   | 否   |      | ID     |
| user_id | varchar(255) | 否   |      | 创建人 |
| name    | varchar(255) | 否   |      | 名称   |
| label   | varchar(50)  | 否   |      | 标签   |
| remark  | varchar(255) |      |      | 备注   |

**索引**

| 键名    | 类型  | 唯一 | 紧凑 | 字段  | 基数 | 排序规则 | 空   | 注释 |
| ------- | ----- | ---- | ---- | ----- | ---- | -------- | ---- | ---- |
| PRIMARY | BTREE | 是   | 否   | id    | 0    | A        | 否   |      |
| UNIQUE  | BTREE | 是   | 否   | label |      | A        | 否   |      |
| UNIQUE  | BTREE | 是   | 否   | name  |      | A        | 否   |      |

## sys_role_department

**表注释：系统角色部门关系**

| 字段          | 类型       | 空   | 默认 | 注释   |
| ------------- | ---------- | ---- | ---- | ------ |
| id            | bigint(20) | 否   |      | ID     |
| role_id       | bigint(20) | 否   |      | 角色ID |
| department_id | bigint(20) | 否   |      | 部门ID |

**索引**

| 键名    | 类型  | 唯一 | 紧凑 | 字段 | 基数 | 排序规则 | 空   | 注释 |
| ------- | ----- | ---- | ---- | ---- | ---- | -------- | ---- | ---- |
| PRIMARY | BTREE | 是   | 否   | id   | 0    | A        | 否   |      |

## sys_role_menu

**表注释：系统角色菜单关系**

| 字段    | 类型       | 空   | 默认 | 注释   |
| ------- | ---------- | ---- | ---- | ------ |
| id      | bigint(20) | 否   |      | ID     |
| role_id | bigint(20) | 否   |      | 角色ID |
| menu_id | bigint(20) | 否   |      | 菜单ID |

**索引**

| 键名    | 类型  | 唯一 | 紧凑 | 字段 | 基数 | 排序规则 | 空   | 注释 |
| ------- | ----- | ---- | ---- | ---- | ---- | -------- | ---- | ---- |
| PRIMARY | BTREE | 是   | 否   | id   | 0    | A        | 否   |      |

## sys_user_role

**表注释：系统用户角色关系**

| 字段    | 类型       | 空   | 默认 | 注释   |
| ------- | ---------- | ---- | ---- | ------ |
| id      | bigint(20) | 否   |      | ID     |
| user_id | bigint(20) | 否   |      | 用户ID |
| role_id | bigint(20) | 否   |      | 角色ID |

**索引**

| 键名    | 类型  | 唯一 | 紧凑 | 字段 | 基数 | 排序规则 | 空   | 注释 |
| ------- | ----- | ---- | ---- | ---- | ---- | -------- | ---- | ---- |
| PRIMARY | BTREE | 是   | 否   | id   | 0    | A        | 否   |      |

## sys_log

**表注释：系统操作日志**

| 字段    | 类型         | 空   | 默认 | 注释 |
| ------- | ------------ | ---- | ---- | ---- |
| id      | bigint(20)   | 否   |      | ID   |
| ip      | varchar(255) |      |      |      |
| user_id | bigint(20)   |      |      |      |
| params  | varchar(255) |      |      | 参数 |
| action  | varchar(100) |      |      | 行为 |

**索引**

| 键名    | 类型  | 唯一 | 紧凑 | 字段 | 基数 | 排序规则 | 空   | 注释 |
| ------- | ----- | ---- | ---- | ---- | ---- | -------- | ---- | ---- |
| PRIMARY | BTREE | 是   | 否   | id   | 0    | A        | 否   |      |

## image_space_type

**表注释：图片空间类别表**

| 字段 | 类型        | 空   | 默认 | 注释     |
| ---- | ----------- | ---- | ---- | -------- |
| id   | bigint(20)  | 否   |      | ID       |
| name | varchar(50) | 否   |      | 类别名称 |

**索引**

| 键名    | 类型  | 唯一 | 紧凑 | 字段 | 基数 | 排序规则 | 空   | 注释 |
| ------- | ----- | ---- | ---- | ---- | ---- | -------- | ---- | ---- |
| PRIMARY | BTREE | 是   | 否   | id   | 0    | A        | 否   |      |

## image_space_info

**表注释：图片信息表**

| 字段    | 类型         | 空   | 默认 | 注释             |
| ------- | ------------ | ---- | ---- | ---------------- |
| id      | bigint(20)   | 否   |      | ID               |
| url     | varchar(500) | 否   |      | 图片对应地址     |
| type_id | bigint(20)   | 否   |      | 对应图片类别ID   |
| extra   | varchar(255) |      |      | 图片附加信息信息 |

**索引**

| 键名    | 类型  | 唯一 | 紧凑 | 字段 | 基数 | 排序规则 | 空   | 注释 |
| ------- | ----- | ---- | ---- | ---- | ---- | -------- | ---- | ---- |
| PRIMARY | BTREE | 是   | 否   | id   | 0    | A        | 否   |      |